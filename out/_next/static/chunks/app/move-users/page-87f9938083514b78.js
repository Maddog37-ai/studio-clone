(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7943],{3741:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var a=r(95155),n=r(12115),s=r(98030),i=r(56104),l=r(35317),o=r(93004),d=r(66695),c=r(30285),u=r(26126),m=r(50286),f=r(11133),h=r(19968),p=r(91689);function v(){let{user:e}=(0,s.A)(),{toast:t}=(0,p.dj)(),[r,v]=(0,n.useState)(!1),[g,y]=(0,n.useState)(""),[x,b]=(0,n.useState)([]),[w,j]=(0,n.useState)(""),N=async()=>{if(!e)return void y("❌ Please sign in first");v(!0),y("\uD83D\uDD0D Finding users...\n");try{let e=await (0,l.getDocs)((0,l.collection)(i.db,"users")),t=[];e.forEach(e=>{t.push({uid:e.id,...e.data()})});let r=t.find(e=>{var t;return(null==(t=e.email)?void 0:t.includes("ryan.madden"))||(e.displayName||"").toLowerCase().includes("ryan madden")});if(!r)return void y(e=>e+"❌ Ryan Madden not found\n");j(r.teamId||""),y(e=>e+"✅ Found Ryan Madden on team: ".concat(r.teamId,"\n\n"));let a=["Sebastian","Andrea","Joshua"],n=t.filter(e=>{let t=e.displayName||"",r=e.email||"";return a.some(e=>t.toLowerCase().includes(e.toLowerCase())||r.toLowerCase().includes(e.toLowerCase()))});b(n),y(e=>e+"\uD83C\uDFAF Found ".concat(n.length," target users:\n")),n.forEach(e=>{let t=e.teamId===r.teamId;y(t=>t+"  - ".concat(e.displayName||e.email,"\n")),y(t=>t+"    Current team: ".concat(e.teamId,"\n")),y(e=>e+"    Status: ".concat(t?"✅ Already on Ryan's team":"⚠️  Different team","\n\n"))})}catch(e){y(t=>t+"❌ Error: ".concat(e,"\n"))}finally{v(!1)}},A=async()=>{if(!e||"manager"!==e.role)return void t({title:"Unauthorized",description:"Only managers can move users between teams.",variant:"destructive"});if(!w)return void t({title:"Error",description:"Please find users first to determine Ryan's team.",variant:"destructive"});v(!0),y(e=>e+"\n\uD83D\uDD04 Moving users to Ryan's team...\n");try{let e=0;for(let t of x){if(t.teamId===w){y(e=>e+"✅ ".concat(t.displayName||t.email," already on Ryan's team\n"));continue}y(e=>e+"\uD83D\uDD04 Moving ".concat(t.displayName||t.email,"...\n"));let r=(0,l.doc)(i.db,"users",t.uid);await (0,l.updateDoc)(r,{teamId:w,updatedAt:new Date});try{if((await (0,l.getDocs)((0,l.collection)(i.db,"closers"))).docs.find(e=>e.id===t.uid)){y(e=>e+"  \uD83D\uDEAA Updating closer record...\n");let e=(0,l.doc)(i.db,"closers",t.uid);await (0,l.updateDoc)(e,{teamId:w,updatedAt:new Date})}}catch(e){y(t=>t+"  ⚠️  Could not update closer record: ".concat(e,"\n"))}y(e=>e+"✅ Moved ".concat(t.displayName||t.email,"\n")),e++}y(t=>t+"\n\uD83C\uDF89 Successfully moved ".concat(e," users to Ryan's team!\n")),t({title:"Success",description:"Moved ".concat(e," users to Ryan's team. They should now be visible in the closer management interface.")})}catch(e){y(t=>t+"❌ Error moving users: ".concat(e,"\n")),t({title:"Error",description:"Failed to move some users. Check the results for details.",variant:"destructive"})}finally{v(!1)}},S=async()=>{try{await (0,o.x9)(i.j2,"ryan.madden@test.com","test123"),t({title:"Success",description:"Signed in as Ryan Madden"})}catch(e){t({title:"Error",description:"Failed to sign in: ".concat(e),variant:"destructive"})}};return(0,a.jsx)("div",{className:"container mx-auto py-8 px-4",children:(0,a.jsxs)(d.Zp,{className:"max-w-4xl mx-auto",children:[(0,a.jsx)(d.aR,{children:(0,a.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-6 w-6"}),"Move Users to Ryan's Team"]})}),(0,a.jsx)(d.Wu,{className:"space-y-6",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(u.E,{variant:"outline",children:["Signed in as: ",e.displayName||e.email]}),(0,a.jsxs)(u.E,{variant:"outline",className:"ml-2",children:["Role: ",e.role]}),"manager"!==e.role&&(0,a.jsx)(u.E,{variant:"destructive",className:"ml-2",children:"Manager role required"})]}),(0,a.jsxs)("div",{className:"space-x-2",children:[(0,a.jsx)(c.$,{onClick:N,disabled:r,variant:"outline",children:r?"Finding...":"Find Users"}),(0,a.jsx)(c.$,{onClick:A,disabled:r||0===x.length||"manager"!==e.role,children:r?"Moving...":"Move Users"})]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg",children:[(0,a.jsxs)("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),"What this will do:"]}),(0,a.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,a.jsx)("li",{children:"• Find Sebastian Vizcarrondo, Andrea Rovayo, and Joshua Long"}),(0,a.jsx)("li",{children:"• Move them to Ryan Madden's team"}),(0,a.jsx)("li",{children:"• Update both user and closer records"}),(0,a.jsx)("li",{children:"• Make them visible in the closer management interface"})]})]}),g&&(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{children:(0,a.jsx)(d.ZB,{className:"text-sm",children:"Results"})}),(0,a.jsx)(d.Wu,{children:(0,a.jsx)("pre",{className:"whitespace-pre-wrap text-sm font-mono bg-gray-50 dark:bg-gray-900 p-4 rounded-md overflow-auto max-h-96",children:g})})]})]}):(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-amber-600",children:[(0,a.jsx)(f.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"You need to be signed in as a manager to move users"})]}),(0,a.jsx)(c.$,{onClick:S,children:"Sign in as Ryan Madden"})]})})]})})}},6101:(e,t,r)=>{"use strict";r.d(t,{s:()=>i,t:()=>s});var a=r(12115);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(...e){return t=>{let r=!1,a=e.map(e=>{let a=n(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():n(e[t],null)}}}}function i(...e){return a.useCallback(s(...e),e)}},11133:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},19968:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},26126:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var a=r(95155);r(12115);var n=r(74466),s=r(59434);let i=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{className:(0,s.cn)(i({variant:r}),t),...n})}},30285:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,r:()=>o});var a=r(95155),n=r(12115),s=r(99708),i=r(74466),l=r(59434);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"text-primary-foreground bg-gradient-to-r from-[hsl(var(--primary-gradient-from))] to-[hsl(var(--primary-gradient-to))] hover:from-[hsl(var(--primary-gradient-to))] hover:to-[hsl(var(--primary-gradient-from))] shadow-md hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-md hover:shadow-lg",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline","primary-solid":"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:i,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:n,size:i,className:r})),ref:t,...c})});d.displayName="Button"},35695:(e,t,r)=>{"use strict";var a=r(18999);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},49663:(e,t,r)=>{Promise.resolve().then(r.bind(r,3741))},50286:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},56104:(e,t,r)=>{"use strict";r.d(t,{EF:()=>f,IG:()=>u,KW:()=>p,PW:()=>g,V$:()=>h,db:()=>c,j2:()=>d,yA:()=>o,zV:()=>v});var a=r(23915),n=r(93004),s=r(35317),i=r(90858),l=r(81427);let o=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)({apiKey:"AIzaSyBc3jmFE6dRXBApmWD9Jg2PO86suqGgaZw",authDomain:"leadflow-4lvrr.firebaseapp.com",projectId:"leadflow-4lvrr",storageBucket:"leadflow-4lvrr.firebasestorage.app",messagingSenderId:"13877630896",appId:"1:13877630896:web:ab7d2717024960ec36e875",measurementId:"G-KDEF2C21SH"}),d=(0,n.xI)(o),c=(0,s.aU)(o),u=(0,i.c7)(o),m=(0,l.Uz)(o),f=(0,l.Qg)(m,"acceptJob");(0,l.Qg)(m,"leadflowBot");let h=(0,l.Qg)(m,"inviteUser"),p=(0,l.Qg)(m,"updateAdminRoles"),v=(0,l.Qg)(m,"getTeamStats");(0,l.Qg)(m,"getDetailedAnalytics"),(0,l.Qg)(m,"generateAnalyticsReport");let g=async e=>await f({leadId:e})},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var a=r(52596),n=r(39688);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}},66695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>l,wL:()=>u});var a=r(95155),n=r(12115),s=r(59434);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-xl border border-slate-200 bg-white text-card-foreground","shadow-lg shadow-slate-200/50 hover:shadow-xl hover:shadow-slate-300/50","transition-all duration-200 ease-in-out","dark:bg-slate-800/95 dark:border-slate-700/50 dark:shadow-lg dark:shadow-slate-900/25","dark:hover:shadow-xl dark:hover:shadow-slate-900/40","dark:ring-1 dark:ring-slate-700/50",r),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});l.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-3xl font-bold font-headline leading-tight tracking-tight text-center",r),...n})});o.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground text-center",r),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});c.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})});u.displayName="CardFooter"},74466:(e,t,r)=>{"use strict";r.d(t,{F:()=>i});var a=r(52596);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=a.$,i=(e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return s(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:l}=t,o=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],a=null==l?void 0:l[e];if(null===t)return null;let s=n(t)||n(a);return i[e][s]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return s(e,o,null==t||null==(a=t.compoundVariants)?void 0:a.reduce((e,t)=>{let{class:r,className:a,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...d}[t]):({...l,...d})[t]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},91689:(e,t,r)=>{"use strict";r.d(t,{dj:()=>m});var a=r(12115);let n=0,s=new Map,i=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=l(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(n=(n+1)%Number.MAX_VALUE).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=a.useState(d);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},98030:(e,t,r)=>{"use strict";r.d(t,{A:()=>m,AuthProvider:()=>u});var a=r(95155),n=r(93004),s=r(35317),i=r(35695),l=r(12115),o=r(56104),d=r(50172);let c=(0,l.createContext)(void 0),u=e=>{let{children:t}=e,[r,u]=(0,l.useState)(null),[m,f]=(0,l.useState)(null),[h,p]=(0,l.useState)(!0),v=(0,i.useRouter)(),g=(0,i.usePathname)();(0,l.useEffect)(()=>{let e=(0,n.hg)(o.j2,async e=>{u(e),e||(f(null),p(!1))});return()=>e()},[]),(0,l.useEffect)(()=>{let e;if(r){p(!0);let t=(0,s.doc)(o.db,"users",r.uid);e=(0,s.aQ)(t,e=>{e.exists()?f({uid:r.uid,...e.data()}):f(null),p(!1)},()=>{f(null),p(!1)})}else f(null),p(!1);return()=>{e&&e()}},[r]),(0,l.useEffect)(()=>{h||m||"/login"===g||v.push("/login"),!h&&m&&"/login"===g&&v.push("/dashboard")},[m,h,v,g]);let y=async()=>{p(!0),await (0,n.CI)(o.j2),f(null),u(null),p(!1)};if(h&&"/login"!==g&&!m)return(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-background",children:(0,a.jsx)(d.A,{className:"h-12 w-12 animate-spin text-primary"})});let x={firebaseUser:r,user:m,loading:h,teamId:(null==m?void 0:m.teamId)||null,role:(null==m?void 0:m.role)||null,logout:y};return(0,a.jsx)(c.Provider,{value:x,children:t})},m=()=>{let e=(0,l.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},99708:(e,t,r)=>{"use strict";r.d(t,{DX:()=>l,Dc:()=>d,TL:()=>i});var a=r(12115),n=r(6101),s=r(95155);function i(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...s}=e;if(a.isValidElement(r)){var i;let e,l,o=(i=r,(l=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(l=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),d=function(e,t){let r={...t};for(let a in t){let n=e[a],s=t[a];/^on[A-Z]/.test(a)?n&&s?r[a]=(...e)=>{let t=s(...e);return n(...e),t}:n&&(r[a]=n):"style"===a?r[a]={...n,...s}:"className"===a&&(r[a]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==a.Fragment&&(d.ref=t?(0,n.t)(t,o):o),a.cloneElement(r,d)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:n,...i}=e,l=a.Children.toArray(n),o=l.find(c);if(o){let e=o.props.children,n=l.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...i,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,s.jsx)(t,{...i,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}var l=i("Slot"),o=Symbol("radix.slottable");function d(e){let t=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=o,t}function c(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,3644,5769,8248,8198,8441,1684,7358],()=>t(49663)),_N_E=e.O()}]);