(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9905],{15439:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>n});var t=s(95155),a=s(98030),l=s(66695);function n(){let{user:e,loading:r}=(0,a.A)();return r?(0,t.jsx)("div",{children:"Loading..."}):(0,t.jsx)("div",{className:"container mx-auto py-8",children:(0,t.jsxs)(l.Zp,{className:"max-w-md mx-auto",children:[(0,t.jsx)(l.aR,{children:(0,t.jsx)(l.ZB,{children:"User Role Debug"})}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"User exists:"})," ",e?"Yes":"No"]}),e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Email:"})," ",e.email]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Display Name:"})," ",e.displayName||"None"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Role:"})," ",e.role||"None"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Team ID:"})," ",e.teamId||"None"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"UID:"})," ",e.uid]})]})]}),(0,t.jsxs)("div",{className:"mt-4 p-3 bg-muted rounded",children:[(0,t.jsxs)("p",{className:"text-sm",children:[(0,t.jsx)("strong",{children:"Manager tools should show:"})," ",(null==e?void 0:e.role)==="manager"||(null==e?void 0:e.role)==="admin"?"YES":"NO"]}),(0,t.jsxs)("p",{className:"text-sm",children:[(0,t.jsx)("strong",{children:"Admin tools should show:"})," ",(null==e?void 0:e.role)==="admin"?"YES":"NO"]})]})]})]})})}},18645:(e,r,s)=>{Promise.resolve().then(s.bind(s,15439))},35695:(e,r,s)=>{"use strict";var t=s(18999);s.o(t,"usePathname")&&s.d(r,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}})},56104:(e,r,s)=>{"use strict";s.d(r,{EF:()=>m,IG:()=>c,KW:()=>g,PW:()=>p,V$:()=>x,db:()=>u,j2:()=>o,yA:()=>i,zV:()=>f});var t=s(23915),a=s(93004),l=s(35317),n=s(90858),d=s(81427);let i=(0,t.Dk)().length?(0,t.Sx)():(0,t.Wp)({apiKey:"AIzaSyBc3jmFE6dRXBApmWD9Jg2PO86suqGgaZw",authDomain:"leadflow-4lvrr.firebaseapp.com",projectId:"leadflow-4lvrr",storageBucket:"leadflow-4lvrr.firebasestorage.app",messagingSenderId:"13877630896",appId:"1:13877630896:web:ab7d2717024960ec36e875",measurementId:"G-KDEF2C21SH"}),o=(0,a.xI)(i),u=(0,l.aU)(i),c=(0,n.c7)(i),h=(0,d.Uz)(i),m=(0,d.Qg)(h,"acceptJob");(0,d.Qg)(h,"leadflowBot");let x=(0,d.Qg)(h,"inviteUser"),g=(0,d.Qg)(h,"updateAdminRoles"),f=(0,d.Qg)(h,"getTeamStats");(0,d.Qg)(h,"getDetailedAnalytics"),(0,d.Qg)(h,"generateAnalyticsReport");let p=async e=>await m({leadId:e})},59434:(e,r,s)=>{"use strict";s.d(r,{cn:()=>l});var t=s(52596),a=s(39688);function l(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.QP)((0,t.$)(r))}},66695:(e,r,s)=>{"use strict";s.d(r,{BT:()=>o,Wu:()=>u,ZB:()=>i,Zp:()=>n,aR:()=>d,wL:()=>c});var t=s(95155),a=s(12115),l=s(59434);let n=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("rounded-xl border border-slate-200 bg-white text-card-foreground","shadow-lg shadow-slate-200/50 hover:shadow-xl hover:shadow-slate-300/50","transition-all duration-200 ease-in-out","dark:bg-slate-800/95 dark:border-slate-700/50 dark:shadow-lg dark:shadow-slate-900/25","dark:hover:shadow-xl dark:hover:shadow-slate-900/40","dark:ring-1 dark:ring-slate-700/50",s),...a})});n.displayName="Card";let d=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...a})});d.displayName="CardHeader";let i=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("h3",{ref:r,className:(0,l.cn)("text-3xl font-bold font-headline leading-tight tracking-tight text-center",s),...a})});i.displayName="CardTitle";let o=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("p",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground text-center",s),...a})});o.displayName="CardDescription";let u=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",s),...a})});u.displayName="CardContent";let c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",s),...a})});c.displayName="CardFooter"},98030:(e,r,s)=>{"use strict";s.d(r,{A:()=>h,AuthProvider:()=>c});var t=s(95155),a=s(93004),l=s(35317),n=s(35695),d=s(12115),i=s(56104),o=s(50172);let u=(0,d.createContext)(void 0),c=e=>{let{children:r}=e,[s,c]=(0,d.useState)(null),[h,m]=(0,d.useState)(null),[x,g]=(0,d.useState)(!0),f=(0,n.useRouter)(),p=(0,n.usePathname)();(0,d.useEffect)(()=>{let e=(0,a.hg)(i.j2,async e=>{c(e),e||(m(null),g(!1))});return()=>e()},[]),(0,d.useEffect)(()=>{let e;if(s){g(!0);let r=(0,l.doc)(i.db,"users",s.uid);e=(0,l.aQ)(r,e=>{e.exists()?m({uid:s.uid,...e.data()}):m(null),g(!1)},()=>{m(null),g(!1)})}else m(null),g(!1);return()=>{e&&e()}},[s]),(0,d.useEffect)(()=>{x||h||"/login"===p||f.push("/login"),!x&&h&&"/login"===p&&f.push("/dashboard")},[h,x,f,p]);let j=async()=>{g(!0),await (0,a.CI)(i.j2),m(null),c(null),g(!1)};if(x&&"/login"!==p&&!h)return(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-background",children:(0,t.jsx)(o.A,{className:"h-12 w-12 animate-spin text-primary"})});let v={firebaseUser:s,user:h,loading:x,teamId:(null==h?void 0:h.teamId)||null,role:(null==h?void 0:h.role)||null,logout:j};return(0,t.jsx)(u.Provider,{value:v,children:r})},h=()=>{let e=(0,d.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{var r=r=>e(e.s=r);e.O(0,[2992,3644,5769,8248,8198,8441,1684,7358],()=>r(18645)),_N_E=e.O()}]);