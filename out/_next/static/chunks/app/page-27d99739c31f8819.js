(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{33792:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(95155),l=r(12115),n=r(35695),s=r(98030),u=r(50172);function i(){let{user:e,loading:t}=(0,s.A)(),r=(0,n.useRouter)();return(0,l.useEffect)(()=>{t||(e?r.replace("/dashboard"):r.replace("/login"))},[e,t,r]),(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-background",children:(0,a.jsx)(u.A,{className:"h-12 w-12 animate-spin text-primary"})})}},35695:(e,t,r)=>{"use strict";var a=r(18999);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},40157:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(12115);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:l=24,strokeWidth:u=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:d,...m}=e;return(0,a.createElement)("svg",{ref:t,...s,width:l,height:l,stroke:r,strokeWidth:i?24*Number(u)/Number(l):u,className:n("lucide",o),...m},[...d.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),i=(e,t)=>{let r=(0,a.forwardRef)((r,s)=>{let{className:i,...o}=r;return(0,a.createElement)(u,{ref:s,iconNode:t,className:n("lucide-".concat(l(e)),i),...o})});return r.displayName="".concat(e),r}},56104:(e,t,r)=>{"use strict";r.d(t,{EF:()=>h,IG:()=>d,KW:()=>g,PW:()=>v,V$:()=>f,db:()=>c,j2:()=>o,yA:()=>i,zV:()=>p});var a=r(23915),l=r(93004),n=r(35317),s=r(90858),u=r(81427);let i=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)({apiKey:"AIzaSyBc3jmFE6dRXBApmWD9Jg2PO86suqGgaZw",authDomain:"leadflow-4lvrr.firebaseapp.com",projectId:"leadflow-4lvrr",storageBucket:"leadflow-4lvrr.firebasestorage.app",messagingSenderId:"13877630896",appId:"1:13877630896:web:ab7d2717024960ec36e875",measurementId:"G-KDEF2C21SH"}),o=(0,l.xI)(i),c=(0,n.aU)(i),d=(0,s.c7)(i),m=(0,u.Uz)(i),h=(0,u.Qg)(m,"acceptJob");(0,u.Qg)(m,"leadflowBot");let f=(0,u.Qg)(m,"inviteUser"),g=(0,u.Qg)(m,"updateAdminRoles"),p=(0,u.Qg)(m,"getTeamStats");(0,u.Qg)(m,"getDetailedAnalytics"),(0,u.Qg)(m,"generateAnalyticsReport");let v=async e=>await h({leadId:e})},95346:(e,t,r)=>{Promise.resolve().then(r.bind(r,33792))},98030:(e,t,r)=>{"use strict";r.d(t,{A:()=>m,AuthProvider:()=>d});var a=r(95155),l=r(93004),n=r(35317),s=r(35695),u=r(12115),i=r(56104),o=r(50172);let c=(0,u.createContext)(void 0),d=e=>{let{children:t}=e,[r,d]=(0,u.useState)(null),[m,h]=(0,u.useState)(null),[f,g]=(0,u.useState)(!0),p=(0,s.useRouter)(),v=(0,s.usePathname)();(0,u.useEffect)(()=>{let e=(0,l.hg)(i.j2,async e=>{d(e),e||(h(null),g(!1))});return()=>e()},[]),(0,u.useEffect)(()=>{let e;if(r){g(!0);let t=(0,n.doc)(i.db,"users",r.uid);e=(0,n.aQ)(t,e=>{e.exists()?h({uid:r.uid,...e.data()}):h(null),g(!1)},()=>{h(null),g(!1)})}else h(null),g(!1);return()=>{e&&e()}},[r]),(0,u.useEffect)(()=>{f||m||"/login"===v||p.push("/login"),!f&&m&&"/login"===v&&p.push("/dashboard")},[m,f,p,v]);let w=async()=>{g(!0),await (0,l.CI)(i.j2),h(null),d(null),g(!1)};if(f&&"/login"!==v&&!m)return(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-background",children:(0,a.jsx)(o.A,{className:"h-12 w-12 animate-spin text-primary"})});let b={firebaseUser:r,user:m,loading:f,teamId:(null==m?void 0:m.teamId)||null,role:(null==m?void 0:m.role)||null,logout:w};return(0,a.jsx)(c.Provider,{value:b,children:t})},m=()=>{let e=(0,u.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,3644,8248,8198,8441,1684,7358],()=>t(95346)),_N_E=e.O()}]);