(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6159],{6101:(e,t,r)=>{"use strict";r.d(t,{s:()=>l,t:()=>n});var s=r(12115);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(...e){return t=>{let r=!1,s=e.map(e=>{let s=a(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():a(e[t],null)}}}}function l(...e){return s.useCallback(n(...e),e)}},8376:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(40157).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},11133:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(40157).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},26126:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var s=r(95155);r(12115);var a=r(74466),n=r(59434);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:r}),t),...a})}},30285:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,r:()=>d});var s=r(95155),a=r(12115),n=r(99708),l=r(74466),i=r(59434);let d=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"text-primary-foreground bg-gradient-to-r from-[hsl(var(--primary-gradient-from))] to-[hsl(var(--primary-gradient-to))] hover:from-[hsl(var(--primary-gradient-to))] hover:to-[hsl(var(--primary-gradient-from))] shadow-md hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-md hover:shadow-lg",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline","primary-solid":"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:o=!1,...c}=e,u=o?n.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(d({variant:a,size:l,className:r})),ref:t,...c})});o.displayName="Button"},35695:(e,t,r)=>{"use strict";var s=r(18999);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},39013:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(95155),a=r(12115),n=r(98030),l=r(56104),i=r(66695),d=r(30285),o=r(26126),c=r(50172),u=r(45731),m=r(8376),p=r(11133),f=r(91689);function h(){var e,t;let{user:r,loading:h}=(0,n.A)(),{toast:x}=(0,f.dj)(),[g,v]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),b=async()=>{try{v(!0),j(null);let e=await (0,l.KW)();console.log("✅ Function result:",e.data);let t=e.data;j(t),(null==t?void 0:t.success)?(x({title:"Success!",description:t.message||"Admin roles updated successfully"}),setTimeout(()=>{window.location.reload()},2e3)):x({title:"Update Failed",description:(null==t?void 0:t.error)||"Unknown error occurred",variant:"destructive"})}catch(e){console.error("❌ Error calling updateAdminRoles:",e),x({title:"Function Call Failed",description:e.message||"Failed to call the admin role update function",variant:"destructive"})}finally{v(!1)}};return h?(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,s.jsx)(c.A,{className:"h-10 w-10 animate-spin text-primary"})}):r?(0,s.jsx)("div",{className:"container mx-auto py-8",children:(0,s.jsxs)(i.Zp,{className:"max-w-2xl mx-auto",children:[(0,s.jsx)(i.aR,{children:(0,s.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(u.A,{className:"h-6 w-6 text-primary"}),"Admin Role Updater"]})}),(0,s.jsxs)(i.Wu,{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-lg",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-semibold",children:["Current User: ",r.displayName||r.email]}),(0,s.jsxs)(o.E,{variant:"outline",className:"mt-1",children:["Role: ",r.role]})]})}),(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"This will update Ryan Madden and Rocky Niger to admin roles in the database."}),(0,s.jsx)(d.$,{onClick:b,disabled:g,size:"lg",className:"w-full sm:w-auto",children:g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating Admin Roles..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Update Admin Roles"]})})]}),y&&(0,s.jsxs)(i.Zp,{className:"mt-6",children:[(0,s.jsx)(i.aR,{children:(0,s.jsxs)(i.ZB,{className:"flex items-center gap-2 text-sm",children:[y.success?(0,s.jsx)(m.A,{className:"h-4 w-4 text-green-600"}):(0,s.jsx)(p.A,{className:"h-4 w-4 text-red-600"}),"Update Results"]})}),(0,s.jsx)(i.Wu,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"Status:"})," ",y.success?"Success":"Failed"]}),y.message&&(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"Message:"})," ",y.message]}),y.results&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Details:"}),(0,s.jsxs)("div",{className:"pl-4 space-y-1 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:"Ryan Madden:"}),(null==(e=y.results.ryan)?void 0:e.found)?(0,s.jsx)(o.E,{variant:y.results.ryan.updated?"default":"secondary",children:y.results.ryan.updated?"Updated":y.results.ryan.alreadyAdmin?"Already Admin":"Found"}):(0,s.jsx)(o.E,{variant:"destructive",children:"Not Found"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:"Rocky Niger:"}),(null==(t=y.results.rocky)?void 0:t.found)?(0,s.jsx)(o.E,{variant:y.results.rocky.updated?"default":"secondary",children:y.results.rocky.updated?"Updated":y.results.rocky.alreadyAdmin?"Already Admin":"Found"}):(0,s.jsx)(o.E,{variant:"destructive",children:"Not Found"})]})]})]}),void 0!==y.updatedCount&&(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"Users Updated:"})," ",y.updatedCount]})]})})]}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg",children:[(0,s.jsx)("p",{className:"font-medium mb-2",children:"Instructions:"}),(0,s.jsxs)("ol",{className:"list-decimal pl-4 space-y-1",children:[(0,s.jsx)("li",{children:'Click the "Update Admin Roles" button above'}),(0,s.jsx)("li",{children:"The function will search for Ryan Madden and Rocky Niger in the database"}),(0,s.jsx)("li",{children:'If found and not already admin, their roles will be updated to "admin"'}),(0,s.jsx)("li",{children:"The page will automatically refresh to show the updated role"})]})]})]})]})}):(0,s.jsx)("div",{className:"container mx-auto py-8",children:(0,s.jsxs)(i.Zp,{className:"max-w-md mx-auto",children:[(0,s.jsx)(i.aR,{children:(0,s.jsx)(i.ZB,{className:"text-center text-destructive",children:"Authentication Required"})}),(0,s.jsx)(i.Wu,{className:"text-center",children:(0,s.jsx)("p",{children:"Please log in to access this page."})})]})})}},45731:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(40157).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},56104:(e,t,r)=>{"use strict";r.d(t,{EF:()=>p,IG:()=>u,KW:()=>h,PW:()=>g,V$:()=>f,db:()=>c,j2:()=>o,yA:()=>d,zV:()=>x});var s=r(23915),a=r(93004),n=r(35317),l=r(90858),i=r(81427);let d=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)({apiKey:"AIzaSyBc3jmFE6dRXBApmWD9Jg2PO86suqGgaZw",authDomain:"leadflow-4lvrr.firebaseapp.com",projectId:"leadflow-4lvrr",storageBucket:"leadflow-4lvrr.firebasestorage.app",messagingSenderId:"13877630896",appId:"1:13877630896:web:ab7d2717024960ec36e875",measurementId:"G-KDEF2C21SH"}),o=(0,a.xI)(d),c=(0,n.aU)(d),u=(0,l.c7)(d),m=(0,i.Uz)(d),p=(0,i.Qg)(m,"acceptJob");(0,i.Qg)(m,"leadflowBot");let f=(0,i.Qg)(m,"inviteUser"),h=(0,i.Qg)(m,"updateAdminRoles"),x=(0,i.Qg)(m,"getTeamStats");(0,i.Qg)(m,"getDetailedAnalytics"),(0,i.Qg)(m,"generateAnalyticsReport");let g=async e=>await p({leadId:e})},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(52596),a=r(39688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},66695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>l,aR:()=>i,wL:()=>u});var s=r(95155),a=r(12115),n=r(59434);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border border-slate-200 bg-white text-card-foreground","shadow-lg shadow-slate-200/50 hover:shadow-xl hover:shadow-slate-300/50","transition-all duration-200 ease-in-out","dark:bg-slate-800/95 dark:border-slate-700/50 dark:shadow-lg dark:shadow-slate-900/25","dark:hover:shadow-xl dark:hover:shadow-slate-900/40","dark:ring-1 dark:ring-slate-700/50",r),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-3xl font-bold font-headline leading-tight tracking-tight text-center",r),...a})});d.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground text-center",r),...a})});o.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},74466:(e,t,r)=>{"use strict";r.d(t,{F:()=>l});var s=r(52596);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=s.$,l=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:i}=t,d=Object.keys(l).map(e=>{let t=null==r?void 0:r[e],s=null==i?void 0:i[e];if(null===t)return null;let n=a(t)||a(s);return l[e][n]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return n(e,d,null==t||null==(s=t.compoundVariants)?void 0:s.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...o}[t]):({...i,...o})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},91689:(e,t,r)=>{"use strict";r.d(t,{dj:()=>m});var s=r(12115);let a=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?l(r):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],o={toasts:[]};function c(e){o=i(o,e),d.forEach(e=>{e(o)})}function u(e){let{...t}=e,r=(a=(a+1)%Number.MAX_VALUE).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=s.useState(o);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},95671:(e,t,r)=>{Promise.resolve().then(r.bind(r,39013))},98030:(e,t,r)=>{"use strict";r.d(t,{A:()=>m,AuthProvider:()=>u});var s=r(95155),a=r(93004),n=r(35317),l=r(35695),i=r(12115),d=r(56104),o=r(50172);let c=(0,i.createContext)(void 0),u=e=>{let{children:t}=e,[r,u]=(0,i.useState)(null),[m,p]=(0,i.useState)(null),[f,h]=(0,i.useState)(!0),x=(0,l.useRouter)(),g=(0,l.usePathname)();(0,i.useEffect)(()=>{let e=(0,a.hg)(d.j2,async e=>{u(e),e||(p(null),h(!1))});return()=>e()},[]),(0,i.useEffect)(()=>{let e;if(r){h(!0);let t=(0,n.doc)(d.db,"users",r.uid);e=(0,n.aQ)(t,e=>{e.exists()?p({uid:r.uid,...e.data()}):p(null),h(!1)},()=>{p(null),h(!1)})}else p(null),h(!1);return()=>{e&&e()}},[r]),(0,i.useEffect)(()=>{f||m||"/login"===g||x.push("/login"),!f&&m&&"/login"===g&&x.push("/dashboard")},[m,f,x,g]);let v=async()=>{h(!0),await (0,a.CI)(d.j2),p(null),u(null),h(!1)};if(f&&"/login"!==g&&!m)return(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-background",children:(0,s.jsx)(o.A,{className:"h-12 w-12 animate-spin text-primary"})});let y={firebaseUser:r,user:m,loading:f,teamId:(null==m?void 0:m.teamId)||null,role:(null==m?void 0:m.role)||null,logout:v};return(0,s.jsx)(c.Provider,{value:y,children:t})},m=()=>{let e=(0,i.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},99708:(e,t,r)=>{"use strict";r.d(t,{DX:()=>i,Dc:()=>o,TL:()=>l});var s=r(12115),a=r(6101),n=r(95155);function l(e){let t=function(e){let t=s.forwardRef((e,t)=>{let{children:r,...n}=e;if(s.isValidElement(r)){var l;let e,i,d=(l=r,(i=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(i=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),o=function(e,t){let r={...t};for(let s in t){let a=e[s],n=t[s];/^on[A-Z]/.test(s)?a&&n?r[s]=(...e)=>{let t=n(...e);return a(...e),t}:a&&(r[s]=a):"style"===s?r[s]={...a,...n}:"className"===s&&(r[s]=[a,n].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==s.Fragment&&(o.ref=t?(0,a.t)(t,d):d),s.cloneElement(r,o)}return s.Children.count(r)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=s.forwardRef((e,r)=>{let{children:a,...l}=e,i=s.Children.toArray(a),d=i.find(c);if(d){let e=d.props.children,a=i.map(t=>t!==d?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,n.jsx)(t,{...l,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,a):null})}return(0,n.jsx)(t,{...l,ref:r,children:a})});return r.displayName=`${e}.Slot`,r}var i=l("Slot"),d=Symbol("radix.slottable");function o(e){let t=({children:e})=>(0,n.jsx)(n.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=d,t}function c(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,3644,5769,8248,8198,8441,1684,7358],()=>t(95671)),_N_E=e.O()}]);