"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2972],{2972:(e,t,a)=>{a.r(t),a.d(t,{default:()=>L});var s=a(95155),r=a(90221),n=a(62177),l=a(71153),o=a(30285),i=a(54165),d=a(17759),c=a(62523),m=a(30356),u=a(14636),p=a(85511),h=a(59409),x=a(91689),f=a(56104),g=a(35317),y=a(90858),b=a(12115),j=a(83662),v=a(50172),w=a(51920),N=a(16923),C=a(25318);let k=(0,a(40157).A)("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);var R=a(98030),I=a(59434),A=a(83013),D=a(15582);async function T(e,t){try{let a=[];for(let t of e){let e=(0,g.query)((0,g.collection)(f.db,"userTokens"),(0,g.where)("userId","==",t),(0,g.where)("enabled","==",!0));(await (0,g.getDocs)(e)).forEach(e=>{let t=e.data();t.fcmToken&&a.push(t.fcmToken)})}if(0===a.length)return void console.log("No FCM tokens found for users:",e);await D.D.incrementBadge(),console.log("Would send notification to tokens:",a.length),console.log("Notification:",t)}catch(e){console.error("Error sending push notification:",e)}}let F={newLead:async(e,t)=>{await T(t?[t]:[],{title:"\uD83D\uDD25 New Lead!",body:"".concat(e.customerName," from ").concat(e.address," - ").concat(e.customerPhone),tag:"new-lead-".concat(e.id),data:{type:"new_lead",leadId:e.id,actionUrl:"/dashboard/leads/".concat(e.id)}})}},P=[];for(let e=8;e<=22;e++){let t=e>12?e-12:e,a=e>=12?"PM":"AM",s=0===t?12:t;P.push({value:"".concat(e.toString().padStart(2,"0"),":00"),label:"".concat(s,":00 ").concat(a)}),e<22&&P.push({value:"".concat(e.toString().padStart(2,"0"),":30"),label:"".concat(s,":30 ").concat(a)})}let q=l.Ik({customerName:l.Yj().min(2,{message:"Customer name must be at least 2 characters."}),customerPhone:l.Yj().min(10,{message:"Phone number must be at least 10 digits."}).regex(/^\+?[0-9\s()-]+$/,{message:"Invalid phone number format."}),address:l.Yj().min(5,{message:"Address must be at least 5 characters."}),dispatchType:l.k5(["immediate","scheduled"],{required_error:"Please select a dispatch type."}),appointmentDate:l.p6().optional(),appointmentTime:l.Yj().optional(),assignedCloserId:l.Yj().optional(),photos:l.YO(l.Nl(File)).max(5,{message:"Maximum 5 photos allowed."}).optional()}).superRefine((e,t)=>{if("scheduled"===e.dispatchType&&(e.appointmentDate||t.addIssue({code:l.eq.custom,message:"Date is required for scheduled dispatch.",path:["appointmentDate"]}),e.appointmentTime||t.addIssue({code:l.eq.custom,message:"Time is required for scheduled dispatch.",path:["appointmentTime"]}),e.appointmentDate&&e.appointmentTime)){let[a,s]=e.appointmentTime.split(":").map(Number),r=new Date(e.appointmentDate);r.setHours(a,s,0,0),r<=new Date&&t.addIssue({code:l.eq.custom,message:"Scheduled appointment must be in the future.",path:["appointmentDate"]})}if(e.photos)for(let a=0;a<e.photos.length;a++){let s=e.photos[a];s.size>5242880&&t.addIssue({code:l.eq.custom,message:"Photo ".concat(a+1," is too large. Maximum size is 5MB."),path:["photos"]}),s.type.startsWith("image/")||t.addIssue({code:l.eq.custom,message:"File ".concat(a+1," is not an image."),path:["photos"]})}});function L(e){let{isOpen:t,onClose:a}=e,{user:l}=(0,R.A)(),{toast:D}=(0,x.dj)(),[T,L]=(0,b.useState)(!1),[S,M]=(0,b.useState)([]),[B,E]=(0,b.useState)(!1),[z,_]=(0,b.useState)(!1),[U,V]=(0,b.useState)(!1),[G,J]=(0,b.useState)([]),O=(0,b.useRef)(null),H=(0,n.mN)({resolver:(0,r.u)(q),defaultValues:{customerName:"",customerPhone:"",address:"",dispatchType:"immediate",photos:[]}}),Y=H.watch("dispatchType"),W=H.watch("photos")||[];(0,b.useEffect)(()=>{"scheduled"!==Y||H.getValues("appointmentTime")||H.setValue("appointmentTime","17:00")},[Y,H]);let $=(0,b.useCallback)(async e=>{if(e.length<3){M([]),E(!1);return}_(!0);try{console.warn("Google Maps API key not configured or not in browser environment"),M([]),E(!1);return}catch(e){console.error("Error fetching address predictions:",e),M([]),E(!1)}finally{_(!1)}},[]),Z=(0,b.useCallback)(e=>{let t=Array.from(e.target.files||[]),a=H.getValues("photos")||[];if(a.length+t.length>5)return void D({title:"Too many photos",description:"Maximum 5 photos allowed.",variant:"destructive"});let s=t.map(e=>URL.createObjectURL(e));J(e=>[...e,...s]),H.setValue("photos",[...a,...t])},[H,D]),X=(0,b.useCallback)(e=>{let t=H.getValues("photos")||[];G[e]&&URL.revokeObjectURL(G[e]);let a=t.filter((t,a)=>a!==e),s=G.filter((t,a)=>a!==e);H.setValue("photos",a),J(s)},[H,G]),K=async e=>{V(!0);let t=e.map(async(e,t)=>{let a="leads/".concat(Date.now(),"-").concat(t,"-").concat(e.name),s=(0,y.KR)(f.IG,a),r=await (0,y.D)(s,e);return(0,y.qk)(r.ref)});try{return await Promise.all(t)}finally{V(!1)}},Q=async e=>{if(l){L(!0);try{let t=[];e.photos&&e.photos.length>0&&(t=await K(e.photos));let s=e.assignedCloserId&&e.assignedCloserId===(null==l?void 0:l.uid)?{uid:l.uid,name:l.displayName||l.email||"Self"}:null,r={customerName:e.customerName,customerPhone:e.customerPhone,address:e.address,dispatchType:e.dispatchType,status:"immediate"===e.dispatchType?"waiting_assignment":"scheduled",teamId:l.teamId,createdAt:(0,g.serverTimestamp)(),updatedAt:(0,g.serverTimestamp)(),setterId:l.uid,setterName:l.displayName||l.email,setterLocation:null,assignedCloserId:(null==s?void 0:s.uid)||null,assignedCloserName:(null==s?void 0:s.name)||null,dispositionNotes:"",photoUrls:t};if("scheduled"===e.dispatchType&&e.appointmentDate&&e.appointmentTime){let[t,a]=e.appointmentTime.split(":").map(Number),s=new Date(e.appointmentDate);s.setHours(t,a,0,0),r.scheduledAppointmentTime=g.Dc.fromDate(s)}let n=await (0,g.gS)((0,g.collection)(f.db,"leads"),r);try{await F.newLead({id:n.id,customerName:e.customerName,customerPhone:e.customerPhone,address:e.address,status:r.status,teamId:l.teamId,dispatchType:e.dispatchType,assignedCloserId:(null==s?void 0:s.uid)||null,assignedCloserName:(null==s?void 0:s.name)||null,createdAt:new Date,updatedAt:new Date,setterId:l.uid,setterName:l.displayName||l.email||"Unknown",setterLocation:null,dispositionNotes:"",scheduledAppointmentTime:r.scheduledAppointmentTime||null,photoUrls:t})}catch(e){console.error("Error sending new lead notification:",e)}D({title:"Lead created successfully",description:"Lead for ".concat(e.customerName," has been created.")}),H.reset(),J([]),a()}catch(e){console.error("Error creating lead:",e),D({title:"Error creating lead",description:"Please try again.",variant:"destructive"})}finally{L(!1)}}};return(0,b.useEffect)(()=>()=>{G.forEach(e=>URL.revokeObjectURL(e))},[G]),(0,s.jsx)(i.lG,{open:t,onOpenChange:a,children:(0,s.jsxs)(i.Cf,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto dark:card-glass dark:glow-turquoise dark:border-turquoise/20",children:[(0,s.jsxs)(i.c7,{children:[(0,s.jsx)(i.L3,{className:"text-lg sm:text-xl dark:text-turquoise",children:"Create New Lead"}),(0,s.jsx)(i.rr,{className:"text-sm sm:text-base",children:"Fill out the form below to create a new lead."})]}),(0,s.jsx)(d.lV,{...H,children:(0,s.jsxs)("form",{onSubmit:H.handleSubmit(Q),className:"space-y-4 sm:space-y-6",children:[(0,s.jsx)(d.zB,{control:H.control,name:"customerName",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{className:"text-sm sm:text-base",children:"Customer Name"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{placeholder:"Enter customer name",className:"text-sm sm:text-base",...t})}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:H.control,name:"customerPhone",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{className:"text-sm sm:text-base",children:"Phone Number"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{placeholder:"Enter phone number",className:"text-sm sm:text-base",...t})}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:H.control,name:"address",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{className:"text-sm sm:text-base",children:"Address"}),(0,s.jsx)(d.MJ,{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(j.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(c.p,{placeholder:"Enter address",className:"pl-10 text-sm sm:text-base",...t,onChange:e=>{t.onChange(e),$(e.target.value)},onFocus:()=>{S.length>0&&E(!0)},onBlur:()=>{setTimeout(()=>E(!1),200)}}),z&&(0,s.jsx)(v.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"})]}),B&&S.length>0&&(0,s.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-popover border rounded-md shadow-lg max-h-60 overflow-y-auto",children:S.map(e=>(0,s.jsx)("div",{className:"px-3 py-2 cursor-pointer hover:bg-muted text-sm",onClick:()=>{t.onChange(e.description),E(!1),M([])},children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(j.A,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate",children:e.description})]})},e.place_id))})]})}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:H.control,name:"dispatchType",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{className:"space-y-3",children:[(0,s.jsx)(d.lR,{className:"text-sm sm:text-base",children:"Dispatch Type"}),(0,s.jsx)(d.MJ,{children:(0,s.jsxs)(m.z,{onValueChange:t.onChange,defaultValue:t.value,className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(m.C,{value:"immediate",id:"immediate"}),(0,s.jsx)("label",{htmlFor:"immediate",className:"text-sm sm:text-base cursor-pointer",children:"Immediate Dispatch"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(m.C,{value:"scheduled",id:"scheduled"}),(0,s.jsx)("label",{htmlFor:"scheduled",className:"text-sm sm:text-base cursor-pointer",children:"Scheduled Dispatch"})]})]})}),(0,s.jsx)(d.C5,{})]})}}),["manager","closer"].includes((null==l?void 0:l.role)||"")&&(0,s.jsx)(d.zB,{control:H.control,name:"assignedCloserId",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{className:"text-sm sm:text-base",children:"Assign to Self"}),(0,s.jsx)(d.Rr,{className:"text-xs sm:text-sm",children:"Assign this lead directly to yourself, bypassing the assignment queue."}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"assignToSelf",checked:t.value===(null==l?void 0:l.uid),onChange:e=>{t.onChange(e.target.checked?null==l?void 0:l.uid:"")},className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),(0,s.jsx)("label",{htmlFor:"assignToSelf",className:"text-sm cursor-pointer",children:"Assign this lead to me"})]}),(0,s.jsx)(d.C5,{})]})}}),"scheduled"===Y&&(0,s.jsxs)("div",{className:"space-y-4 p-4 bg-muted/50 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium text-sm sm:text-base",children:"Schedule Appointment"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Select a date and time for the scheduled appointment:"}),(0,s.jsx)(d.zB,{control:H.control,name:"appointmentDate",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{className:"flex flex-col",children:[(0,s.jsx)(d.lR,{className:"text-sm sm:text-base",children:"Date"}),(0,s.jsxs)(u.AM,{children:[(0,s.jsx)(u.Wv,{asChild:!0,children:(0,s.jsx)(d.MJ,{children:(0,s.jsxs)(o.$,{variant:"outline",className:(0,I.cn)("w-full justify-start text-left font-normal text-sm sm:text-base",!t.value&&"text-muted-foreground"),children:[(0,s.jsx)(w.A,{className:"mr-2 h-4 w-4"}),t.value?(0,A.GP)(t.value,"PPP"):(0,s.jsx)("span",{children:"Pick a date"})]})})}),(0,s.jsx)(u.hl,{className:"w-auto p-0",align:"start",children:(0,s.jsx)(p.V,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:e=>e<new Date(new Date().setDate(new Date().getDate()-1)),initialFocus:!0})})]}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:H.control,name:"appointmentTime",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{className:"text-sm sm:text-base",children:"Time"}),(0,s.jsxs)(h.l6,{onValueChange:t.onChange,value:t.value,children:[(0,s.jsx)(d.MJ,{children:(0,s.jsx)(h.bq,{className:"text-sm sm:text-base",children:(0,s.jsx)(h.yv,{placeholder:"Select time"})})}),(0,s.jsx)(h.gC,{className:"max-h-[200px]",children:P.map(e=>(0,s.jsx)(h.eb,{value:e.value,children:e.label},e.value))})]}),(0,s.jsx)(d.C5,{})]})}})]}),(0,s.jsx)(d.zB,{control:H.control,name:"photos",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{className:"text-sm sm:text-base",children:"Photos"}),(0,s.jsx)(d.Rr,{className:"text-xs sm:text-sm",children:"Upload up to 5 photos. Maximum 5MB per photo."}),(0,s.jsx)(d.MJ,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(o.$,{type:"button",variant:"outline",size:"sm",className:"text-sm",onClick:()=>{var e;return null==(e=O.current)?void 0:e.click()},disabled:W.length>=5,children:[(0,s.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"Upload Photos"]}),W.length>0&&(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:[W.length,"/5 photos"]})]}),(0,s.jsx)("input",{ref:O,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:Z}),W.length>0&&(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:G.map((e,t)=>(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"aspect-square rounded-lg overflow-hidden bg-muted",children:(0,s.jsx)("img",{src:e,alt:"Preview ".concat(t+1),className:"w-full h-full object-cover"})}),(0,s.jsx)(o.$,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>X(t),children:(0,s.jsx)(C.A,{className:"h-3 w-3"})}),(0,s.jsxs)("div",{className:"absolute bottom-1 left-1 bg-black/50 text-white text-xs px-1 rounded",children:[(0,s.jsx)(k,{className:"h-3 w-3 inline mr-1"}),t+1]})]},t))})]})}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsxs)(i.Es,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0 dark:border-turquoise/20",children:[(0,s.jsx)(i.HM,{asChild:!0,children:(0,s.jsx)(o.$,{type:"button",variant:"outline",className:"text-sm sm:text-base dark:card-glass dark:glow-cyan dark:border-turquoise/30 dark:hover:glow-turquoise",children:"Cancel"})}),(0,s.jsx)(o.$,{type:"submit",disabled:T||U,className:"text-sm sm:text-base bg-gradient-to-r from-[#3574F2] to-[#5096F2] hover:from-[#3574F2]/90 hover:to-[#5096F2]/90 dark:from-turquoise dark:to-cyan dark:hover:from-turquoise/90 dark:hover:to-cyan/90 dark:glow-turquoise",children:T?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.A,{className:"mr-2 h-4 w-4 animate-spin"}),U?"Uploading...":"Creating..."]}):"Create Lead"})]})]})})]})})}},14636:(e,t,a)=>{a.d(t,{AM:()=>o,Wv:()=>i,hl:()=>d});var s=a(95155),r=a(12115),n=a(20547),l=a(59434);let o=n.bL,i=n.l9,d=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:o=4,...i}=e;return(0,s.jsx)(n.ZL,{children:(0,s.jsx)(n.UC,{ref:t,align:r,sideOffset:o,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});d.displayName=n.UC.displayName},15582:(e,t,a)=>{a.d(t,{D:()=>s});class s{static async setBadgeCount(e){this.badgeCount=Math.max(0,e);try{"setAppBadge"in navigator&&(this.badgeCount>0?await navigator.setAppBadge(this.badgeCount):await navigator.clearAppBadge()),this.updateDocumentTitle(),this.updateFavicon()}catch(e){console.warn("Badge API not supported or failed:",e),this.updateDocumentTitle()}}static async incrementBadge(){await this.setBadgeCount(this.badgeCount+1)}static async decrementBadge(){await this.setBadgeCount(this.badgeCount-1)}static async clearBadge(){await this.setBadgeCount(0)}static getBadgeCount(){return this.badgeCount}static updateDocumentTitle(){let e="LeadFlow";this.badgeCount>0?document.title="(".concat(this.badgeCount,") ").concat(e):document.title=e}static updateFavicon(){try{if("undefined"==typeof document)return;let e=document.querySelector("link[rel*='icon']");if(!e)return;let t=document.createElement("canvas"),a=t.getContext("2d");if(!a)return;t.width=32,t.height=32,a.fillStyle="#3B82F6",a.beginPath(),a.arc(16,16,14,0,2*Math.PI),a.fill(),this.badgeCount>0&&(a.fillStyle="#EF4444",a.beginPath(),a.arc(24,8,6,0,2*Math.PI),a.fill(),a.fillStyle="#FFFFFF",a.font="bold 8px Arial",a.textAlign="center",a.fillText(this.badgeCount>99?"99+":this.badgeCount.toString(),24,11)),e.href=t.toDataURL("image/png")}catch(e){console.warn("Failed to update favicon:",e)}}static initialize(){let e=localStorage.getItem("leadflow-badge-count");if(e){let t=parseInt(e,10);isNaN(t)||this.setBadgeCount(t)}let t=this.setBadgeCount;this.setBadgeCount=async e=>{await t.call(this,e),localStorage.setItem("leadflow-badge-count",e.toString())}}static handleVisibilityChange(){document.addEventListener("visibilitychange",()=>{document.hidden||this.clearBadge()})}}s.badgeCount=0},16923:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(40157).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},17759:(e,t,a)=>{a.d(t,{C5:()=>y,MJ:()=>f,Rr:()=>g,eI:()=>h,lR:()=>x,lV:()=>d,zB:()=>m});var s=a(95155),r=a(12115),n=a(99708),l=a(62177),o=a(59434),i=a(85057);let d=l.Op,c=r.createContext({}),m=e=>{let{...t}=e;return(0,s.jsx)(c.Provider,{value:{name:t.name},children:(0,s.jsx)(l.xI,{...t})})},u=()=>{let e=r.useContext(c),t=r.useContext(p),{getFieldState:a,formState:s}=(0,l.xW)(),n=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...n}},p=r.createContext({}),h=r.forwardRef((e,t)=>{let{className:a,...n}=e,l=r.useId();return(0,s.jsx)(p.Provider,{value:{id:l},children:(0,s.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",a),...n})})});h.displayName="FormItem";let x=r.forwardRef((e,t)=>{let{className:a,...r}=e,{error:n,formItemId:l}=u();return(0,s.jsx)(i.J,{ref:t,className:(0,o.cn)(n&&"text-destructive",a),htmlFor:l,...r})});x.displayName="FormLabel";let f=r.forwardRef((e,t)=>{let{...a}=e,{error:r,formItemId:l,formDescriptionId:o,formMessageId:i}=u();return(0,s.jsx)(n.DX,{ref:t,id:l,"aria-describedby":r?"".concat(o," ").concat(i):"".concat(o),"aria-invalid":!!r,...a})});f.displayName="FormControl";let g=r.forwardRef((e,t)=>{let{className:a,...r}=e,{formDescriptionId:n}=u();return(0,s.jsx)("p",{ref:t,id:n,className:(0,o.cn)("text-sm text-muted-foreground",a),...r})});g.displayName="FormDescription";let y=r.forwardRef((e,t)=>{var a;let{className:r,children:n,...l}=e,{error:i,formMessageId:d}=u(),c=i?String(null!=(a=null==i?void 0:i.message)?a:""):n;return c?(0,s.jsx)("p",{ref:t,id:d,className:(0,o.cn)("text-sm font-medium text-destructive",r),...l,children:c}):null});y.displayName="FormMessage"},30356:(e,t,a)=>{a.d(t,{C:()=>d,z:()=>i});var s=a(95155),r=a(12115),n=a(54059),l=a(70154),o=a(59434);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.bL,{className:(0,o.cn)("grid gap-2",a),...r,ref:t})});i.displayName=n.bL.displayName;let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.q7,{ref:t,className:(0,o.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...r,children:(0,s.jsx)(n.C1,{className:"flex items-center justify-center",children:(0,s.jsx)(l.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});d.displayName=n.q7.displayName},54059:(e,t,a)=>{a.d(t,{C1:()=>z,bL:()=>B,q7:()=>E});var s=a(12115),r=a(85185),n=a(6101),l=a(46081),o=a(63655),i=a(89196),d=a(5845),c=a(94315),m=a(11275),u=a(45503),p=a(28905),h=a(95155),x="Radio",[f,g]=(0,l.A)(x),[y,b]=f(x),j=s.forwardRef((e,t)=>{let{__scopeRadio:a,name:l,checked:i=!1,required:d,disabled:c,value:m="on",onCheck:u,form:p,...x}=e,[f,g]=s.useState(null),b=(0,n.s)(t,e=>g(e)),j=s.useRef(!1),v=!f||p||!!f.closest("form");return(0,h.jsxs)(y,{scope:a,checked:i,disabled:c,children:[(0,h.jsx)(o.sG.button,{type:"button",role:"radio","aria-checked":i,"data-state":C(i),"data-disabled":c?"":void 0,disabled:c,value:m,...x,ref:b,onClick:(0,r.m)(e.onClick,e=>{i||null==u||u(),v&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})}),v&&(0,h.jsx)(N,{control:f,bubbles:!j.current,name:l,value:m,checked:i,required:d,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});j.displayName=x;var v="RadioIndicator",w=s.forwardRef((e,t)=>{let{__scopeRadio:a,forceMount:s,...r}=e,n=b(v,a);return(0,h.jsx)(p.C,{present:s||n.checked,children:(0,h.jsx)(o.sG.span,{"data-state":C(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:t})})});w.displayName=v;var N=s.forwardRef((e,t)=>{let{__scopeRadio:a,control:r,checked:l,bubbles:i=!0,...d}=e,c=s.useRef(null),p=(0,n.s)(c,t),x=(0,u.Z)(l),f=(0,m.X)(r);return s.useEffect(()=>{let e=c.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(x!==l&&t){let a=new Event("click",{bubbles:i});t.call(e,l),e.dispatchEvent(a)}},[x,l,i]),(0,h.jsx)(o.sG.input,{type:"radio","aria-hidden":!0,defaultChecked:l,...d,tabIndex:-1,ref:p,style:{...d.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function C(e){return e?"checked":"unchecked"}N.displayName="RadioBubbleInput";var k=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],R="RadioGroup",[I,A]=(0,l.A)(R,[i.RG,g]),D=(0,i.RG)(),T=g(),[F,P]=I(R),q=s.forwardRef((e,t)=>{let{__scopeRadioGroup:a,name:s,defaultValue:r,value:n,required:l=!1,disabled:m=!1,orientation:u,dir:p,loop:x=!0,onValueChange:f,...g}=e,y=D(a),b=(0,c.jH)(p),[j,v]=(0,d.i)({prop:n,defaultProp:null!=r?r:null,onChange:f,caller:R});return(0,h.jsx)(F,{scope:a,name:s,required:l,disabled:m,value:j,onValueChange:v,children:(0,h.jsx)(i.bL,{asChild:!0,...y,orientation:u,dir:b,loop:x,children:(0,h.jsx)(o.sG.div,{role:"radiogroup","aria-required":l,"aria-orientation":u,"data-disabled":m?"":void 0,dir:b,...g,ref:t})})})});q.displayName=R;var L="RadioGroupItem",S=s.forwardRef((e,t)=>{let{__scopeRadioGroup:a,disabled:l,...o}=e,d=P(L,a),c=d.disabled||l,m=D(a),u=T(a),p=s.useRef(null),x=(0,n.s)(t,p),f=d.value===o.value,g=s.useRef(!1);return s.useEffect(()=>{let e=e=>{k.includes(e.key)&&(g.current=!0)},t=()=>g.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,h.jsx)(i.q7,{asChild:!0,...m,focusable:!c,active:f,children:(0,h.jsx)(j,{disabled:c,required:d.required,checked:f,...u,...o,name:d.name,ref:x,onCheck:()=>d.onValueChange(o.value),onKeyDown:(0,r.m)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,r.m)(o.onFocus,()=>{var e;g.current&&(null==(e=p.current)||e.click())})})})});S.displayName=L;var M=s.forwardRef((e,t)=>{let{__scopeRadioGroup:a,...s}=e,r=T(a);return(0,h.jsx)(w,{...r,...s,ref:t})});M.displayName="RadioGroupIndicator";var B=q,E=S,z=M},59409:(e,t,a)=>{a.d(t,{bq:()=>u,eb:()=>f,gC:()=>x,l6:()=>c,yv:()=>m});var s=a(95155),r=a(12115),n=a(31992),l=a(79556),o=a(77381),i=a(10518),d=a(59434);let c=n.bL;n.YJ;let m=n.WT,u=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,s.jsxs)(n.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...o,children:[r,(0,s.jsx)(n.In,{asChild:!0,children:(0,s.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=n.l9.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})});p.displayName=n.PP.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})});h.displayName=n.wn.displayName;let x=r.forwardRef((e,t)=>{let{className:a,children:r,position:l="popper",...o}=e;return(0,s.jsx)(n.ZL,{children:(0,s.jsxs)(n.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...o,children:[(0,s.jsx)(p,{}),(0,s.jsx)(n.LM,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(h,{})]})})});x.displayName=n.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=n.JU.displayName;let f=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(n.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.VF,{children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})}),(0,s.jsx)(n.p4,{children:r})]})});f.displayName=n.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=n.wv.displayName},83662:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(40157).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},85511:(e,t,a)=>{a.d(t,{V:()=>d});var s=a(95155);a(12115);var r=a(965),n=a(73158),l=a(25358),o=a(59434),i=a(30285);function d(e){let{className:t,classNames:a,showOutsideDays:d=!0,...c}=e;return(0,s.jsx)(l.hv,{showOutsideDays:d,className:(0,o.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,o.cn)((0,i.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,o.cn)((0,i.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{className:t,...a}=e;return(0,s.jsx)(r.A,{className:(0,o.cn)("h-4 w-4",t),...a})},IconRight:e=>{let{className:t,...a}=e;return(0,s.jsx)(n.A,{className:(0,o.cn)("h-4 w-4",t),...a})}},...c})}d.displayName="Calendar"}}]);